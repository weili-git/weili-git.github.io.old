<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Docker Engine | Li Wei’s Blog</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Docker Engine" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Quick start with a few docker commands" />
<meta property="og:description" content="Quick start with a few docker commands" />
<link rel="canonical" href="http://localhost:4000/article/linux/docker-engine" />
<meta property="og:url" content="http://localhost:4000/article/linux/docker-engine" />
<meta property="og:site_name" content="Li Wei’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-10-26T12:57:11+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Docker Engine" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Docker Engine","dateModified":"2021-10-26T12:57:11+08:00","datePublished":"2021-10-26T12:57:11+08:00","url":"http://localhost:4000/article/linux/docker-engine","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/article/linux/docker-engine"},"description":"Quick start with a few docker commands","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="https://code.jquery.com/jquery-3.3.0.min.js" integrity="sha256-RTQy8VOmNlT6b2PIRur37p6JEBZUE7o8wPgMvu18MC4=" crossorigin="anonymous"></script>
    <script src="/assets/js/main.js"></script>
    <!--[if lt IE 9]>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>

      <header>
        <h1>Docker Engine</h1>
        <p>Quick start with a few docker commands</p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/weili-git/" class="button fork"><strong>View On GitHub</strong></a>
        
          <div class="downloads">
            <span>Link:</span>
            <ul>
              <!-- <li><a href="" class="button">Text-To-Speech</a></li>
              <li><a href="" class="button">Docker</a></li> 
              it's not easy to manage links to navigate through homepage, and './' didn't drop out category.
              -->
              
                <li>
                  <a href="/" class="button">Home</a>
                </li>
              
                <li>
                  <a href="/README.html" class="button">About</a>
                </li>
              
                <li>
                  <a href="/Categories.html" class="button">Categories</a>
                </li>
              
              
            </ul>
          </div>
        
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>

        <h1 id="1-install-docker">1. Install Docker</h1>
<p>First, we need to install <a href="https://docs.docker.com/engine/install/ubuntu/">Docker Engine</a> according to the instructions on the official website. Then, for convenience, we can do the following to avoid typing ‘sudo’ each time.</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat</span> /etc/group | <span class="nb">grep </span>docker
<span class="nb">sudo </span>groupadd docker    <span class="c"># if no output</span>
<span class="nb">sudo </span>gpasswd <span class="nt">-a</span> <span class="k">${</span><span class="nv">USER</span><span class="k">}</span> docker
<span class="nb">sudo </span>service docker restart
newgrp - docker
</code></pre></div></div>

<h1 id="2-image-command">2. Image Command</h1>
<h2 id="21-search">2.1 search</h2>
<p>We can search <a href="https://hub.docker.com/">Docker Hub</a> to find docker images that we want. Alternatively, we can use the command ‘search’ to print a list of images based on arguments.</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker search image-name
docker pull image-name <span class="o">[</span>:tag]      <span class="c"># specified version</span>
</code></pre></div></div>
<h2 id="22-delete">2.2 delete</h2>
<p>To delete images, we can use the command ‘rmi’</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker rmi <span class="nt">-f</span> image1-id image2-id ...
docker rmi <span class="nt">-f</span> <span class="si">$(</span>docker images <span class="nt">-aq</span><span class="si">)</span>     <span class="c"># delete all images</span>
</code></pre></div></div>

<h1 id="3-container-command">3. Container Command</h1>
<h2 id="31-pull-and-run">3.1 pull and run</h2>
<p>Docker container is a running instance of a docker image. Here are the basic commands.</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull ubuntu:18.04
docker run <span class="nt">-it</span> ubuntu:18.04 /bin/bash   <span class="c"># interaction mode</span>
<span class="nb">exit</span>        <span class="c"># stop and exit</span>
ctrl+p+q    <span class="c"># stop but still running</span>
</code></pre></div></div>
<h2 id="32-ps">3.2 ps</h2>
<p>list all of the running containers</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ps <span class="nt">-aq</span>      <span class="c"># show all and history containers with id only</span>
</code></pre></div></div>
<h2 id="33-remove">3.3 remove</h2>
<p>remove docker container</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker <span class="nb">rm </span>container-id
docker <span class="nb">rm</span> <span class="nt">-f</span> <span class="si">$(</span>docker ps <span class="nt">-aq</span><span class="si">)</span>      <span class="c"># force to remove all of the running containers</span>
docker ps <span class="nt">-aq</span>|xargs docker <span class="nb">rm</span>      <span class="c"># another way to remove</span>
</code></pre></div></div>
<h2 id="34-start-and-stop">3.4 start and stop</h2>
<p>start and stop the container</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker start container-id
docker restart container-id
docker stop container-id
docker <span class="nb">kill </span>container-id   <span class="c"># force to stop</span>
</code></pre></div></div>
<h2 id="35-others">3.5 others</h2>
<p>other command</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">-d</span> image-name    <span class="c"># run in background, which requires foreground process</span>
docker logs <span class="nt">-tf</span> <span class="nt">--tail</span> num container-id
docker top container-id
docker inspect container-id
</code></pre></div></div>
<h2 id="36-exec--cp">3.6 exec &amp;&amp; cp</h2>
<p>enter the running container</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker <span class="nb">exec</span> <span class="nt">-it</span> container-id /bin/bash  <span class="c"># create new terminal, recommend!!!</span>
docker attach container-id              <span class="c"># continue last terminal</span>
docker <span class="nb">cp </span>container-id:path host-path
</code></pre></div></div>

<h1 id="4-dockerfile">4 DockerFile</h1>
<h2 id="41-instance">4.1 Instance</h2>
<div class="language-docker highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> ubuntu:18.04</span>
</code></pre></div></div>
<h2 id="42-build">4.2 Build</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build <span class="nt">-t</span> image-name[:tag] <span class="nb">.</span>
</code></pre></div></div>
<h2 id="43-test">4.3 Test</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">-it</span> image-name[:tag]
</code></pre></div></div>
<h2 id="44-history">4.4 History</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker <span class="nb">history </span>image-id
</code></pre></div></div>


      </section>
      <footer>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/mattgraham">mattgraham</a></small></p>
      </footer>
    </div>
  </body>
</html>
